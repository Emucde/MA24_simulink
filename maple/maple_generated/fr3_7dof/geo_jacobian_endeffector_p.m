function tmpreturn = geo_jacobian_endeffector_p(q, q_p, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = q_p(5);
  t2 = t1 * param.l5;
  t3 = q(5);
  t4 = sin(t3);
  t5 = t4 * t2;
  t6 = q_p(6);
  t7 = param.l6 * t6;
  t8 = cos(t3);
  t10 = q_p(4);
  t11 = param.l6 * t10;
  t12 = -t7 * t8 - t11 + t5;
  t13 = q(6);
  t14 = cos(t13);
  t15 = t12 * t14;
  t16 = t6 * param.l5;
  t18 = param.l6 * t1;
  t19 = t4 * t18;
  t20 = t10 * param.l5;
  t21 = t16 * t8 + t19 + t20;
  t22 = sin(t13);
  t23 = t22 * t21;
  t24 = t10 * param.l4;
  t25 = t15 + t23 + t24;
  t26 = q(4);
  t27 = cos(t26);
  t28 = t27 * t25;
  t29 = t8 * t10;
  t30 = t29 + t6;
  t31 = sin(t26);
  t33 = q_p(3);
  t34 = t33 * t4;
  t35 = t30 * t31 + t34;
  t37 = t14 * t35 * param.l5;
  t38 = t30 * param.l6;
  t39 = t22 * t38;
  t40 = t10 * param.l3;
  t43 = param.l6 * t22;
  t44 = t43 * t34;
  t46 = q(3);
  t47 = cos(t46);
  t49 = t8 * param.l5;
  t50 = sin(t46);
  t51 = t33 * t50;
  t53 = q_p(2);
  t54 = t53 * param.l6;
  t55 = t49 * t51 + t54;
  t56 = t14 * t55;
  t57 = t50 * t8;
  t60 = t53 * param.l5;
  t61 = param.l6 * t33 * t57 - t60;
  t62 = t22 * t61;
  t63 = param.l3 * t33;
  t64 = t50 * t63;
  t65 = param.l4 * t53;
  t67 = t27 * (t56 + t62 - t64 - t65);
  t68 = t8 * t53;
  t71 = -param.l5 * t68 + param.l6 * t51;
  t73 = t8 * t2;
  t74 = t4 * t6;
  t75 = param.l6 * t74;
  t77 = (t73 + t75) * t50;
  t83 = t22 * (-param.l5 * t51 - param.l6 * t68);
  t85 = t50 * param.l4 * t33;
  t86 = t53 * param.l3;
  t89 = t8 * t18;
  t90 = param.l5 * t74;
  t76 = t22 * (t89 - t90);
  t93 = t50 * t76;
  t94 = t53 * param.l2;
  t96 = q(2);
  t97 = cos(t96);
  t99 = sin(t96);
  t100 = t99 * t53;
  t78 = param.l5 * t14;
  t80 = param.l6 * t22;
  t105 = -t78 * t8 - t8 * t80 + param.l3;
  t106 = t27 * t105;
  t107 = t100 * t106;
  t108 = t31 * t99;
  t109 = t108 * t54;
  t111 = q_p(1);
  t112 = t111 * t4 * param.l5;
  t114 = t14 * (t109 + t112);
  t115 = param.l5 * t22;
  t116 = t115 + param.l4;
  t117 = t31 * t116;
  t118 = t117 * t100;
  t119 = t111 * t4;
  t120 = t43 * t119;
  t121 = t99 * t86;
  t124 = t8 * t111;
  t127 = t124 * t50 - t30 * t99;
  t132 = t50 * t111;
  t133 = t99 * t10;
  t134 = t132 - t133;
  t135 = t134 * param.l3;
  t138 = param.l6 * t132;
  t139 = -t12;
  t143 = t50 * t4;
  t144 = param.l5 * t143;
  t148 = param.l5 * t132;
  t152 = t134 * param.l4;
  t155 = param.l6 * t4;
  t156 = t22 * t155;
  t160 = (param.l3 * t111 - t100 * t156) * t50;
  t162 = q(1);
  t163 = sin(t162);
  t165 = t31 * t14;
  t166 = param.l6 * t165;
  t170 = t78 + t43;
  t171 = t170 * t143;
  t175 = t105 * t33;
  t176 = t27 * t175;
  t177 = t31 * t33;
  t125 = t111 * t99;
  t188 = param.l6 * t125;
  t191 = -t21;
  t194 = param.l5 * t125;
  t197 = t111 * t99;
  t198 = t50 * t10;
  t199 = t197 - t198;
  t200 = t199 * param.l4;
  t206 = t124 * t99 - t30 * t50;
  t208 = t4 * t51;
  t214 = t199 * param.l3;
  t147 = t14 * (param.l6 * t177 + t73 + t75);
  t220 = -t97 * (t47 * (t106 - t166 + t117 - param.l3) + t171) * t111 + (-t116 * t31 * t33 + t147 - t176 + t63 + t76) * t47 + t27 * (t14 * (t139 * t50 - t188) + t22 * (t191 * t50 + t194) + t200) + (t206 * t31 - t208) * t78 + (t206 * t80 - t214) * t31 - t156 * t51 + param.l2 * t125;
  t221 = cos(t162);
  t182 = t31 * (t39 - t40);
  t186 = t31 * t71 + t77;
  t201 = t27 * (param.l5 * t127 * t14 + param.l6 * t127 * t22 - t135);
  t203 = t31 * (-t139 * t99 + t138) - t144 * t100;
  t207 = t22 * (t21 * t99 - t148) - t152;
  m(1,1) = (((t182 + t28 + t37 + t44) * t47 + t67 + t186 * t14 + t31 * (t83 - t85 + t86) + t93 + t64 - t94) * t97 + t47 * (-t107 + t114 - t118 + t120 + t121) + t201 + t203 * t14 + t207 * t31 + t160) * t163 - t221 * t220;
  t223 = t30 * param.l5;
  t224 = t14 * t223;
  t225 = t224 + t39 - t40;
  t230 = t14 * t71;
  t234 = t47 * (t170 * t34 + t225 * t31 + t28) + t67 + t31 * (t230 + t83 - t85 + t86) + t14 * t77 + t93 + t64 - t94;
  t236 = param.l6 * t14;
  t237 = -t236 + t115 + param.l4;
  t245 = t139 * t14 + t191 * t22 - t24;
  t247 = t50 * t53;
  t248 = t170 * t4;
  t249 = t248 * t247;
  t231 = t47 * (t237 * t31 - param.l3 + t106);
  t233 = t27 * t225;
  t252 = t99 * t234 + t97 * (t231 * t53 + t245 * t31 + t233 + t249);
  t258 = -t105;
  t262 = (t231 + t171) * t99 + t97 * (t237 * t27 + t258 * t31 + param.l2);
  m(1,2) = -t111 * t163 * t262 + t221 * t252;
  t266 = t35 * t80;
  t267 = t31 * t40;
  t270 = t108 * t60;
  t271 = t111 * t155;
  t274 = param.l4 * t31;
  t275 = -t274 + param.l3;
  t280 = -t147;
  t283 = t22 * (param.l5 * t177 - t89 + t90);
  t284 = t275 * t33;
  t285 = t176 + t280 + t283 - t284;
  t289 = t4 * t99;
  t293 = -param.l6 * t111 * t31 + t289 * t60;
  t296 = t31 * param.l5;
  t298 = t111 * t296 + t289 * t54;
  t303 = t50 * (t97 * (t28 + t37 + t266 - t267) - t107 + t114 + t22 * (-t270 + t271) + t275 * t100) + (t105 * t111 * t27 - t111 * t275 + t14 * t293 + t22 * t298 + t285 * t97) * t47;
  t307 = param.l5 * t22 * t31 - param.l3 + t106 - t166 + t274;
  t314 = t27 * t245;
  t317 = t50 * (t111 * t307 * t97 + t176 + t280 + t283 - t284) + (-t119 * t170 * t97 - t266 + t267 + t314 - t37) * t47;
  m(1,3) = -t163 * t317 + t221 * t303;
  t325 = t99 * t6;
  t326 = t134 * t8 - t325;
  t334 = t225 * t47 + t230 + t83 - t85 + t86;
  t338 = t8 * param.l6;
  t340 = t5 - t11;
  t345 = t19 + t20;
  t312 = t105 * t47;
  t323 = t237 * t47;
  t351 = (t97 * (t25 * t47 + t56 + t62 - t64 - t65) - t100 * t312 + t14 * t326 * param.l5 + t22 * t326 * param.l6 - t135) * t31 - (t97 * t334 - t100 * t323 + t14 * (-t325 * t338 + t340 * t99 + t138) + t22 * (t325 * t49 + t345 * t99 - t148) - t152) * t27;
  t353 = t111 * t47;
  t358 = -t340;
  t360 = -t358 * t50 - t57 * t7 + t188;
  t364 = t16 * t57 + t345 * t50 - t194;
  t344 = t8 * t199;
  t374 = -t50 * t6 + t344;
  t381 = t31 * (t105 * t353 * t97 + t14 * t360 + t175 * t47 + t22 * t364 - t200) - (-param.l5 * t14 * t374 + t237 * t353 * t97 + t323 * t33 - t374 * t80 + t214) * t27;
  m(1,4) = -t163 * t381 + t221 * t351;
  t383 = t115 - t236;
  t384 = t27 * t4;
  t389 = t47 * t8;
  t393 = t163 * t50;
  t400 = t27 * t51;
  t402 = -t10 * t47 + t53;
  t404 = t1 * t50;
  t407 = t47 * t53;
  t408 = t407 - t10;
  t414 = t27 * t1;
  t415 = t414 + t33;
  t419 = t1 * t31 - t247;
  t422 = t8 * (t415 * t47 * t97 + t419 * t99 + t353);
  t377 = t31 * t402;
  t423 = ((t377 - t400 - t404) * t97 - (t408 * t99 + t132) * t27) * t4 + t422;
  t425 = t97 * t111;
  t426 = t27 * t47;
  t427 = t426 * t425;
  t432 = t47 * t1;
  t436 = (t425 + t414 + t33) * t57;
  t391 = t27 * t47;
  t437 = (t197 * t31 - t198 * t31 + t33 * t391 + t427 + t432) * t4 + t436;
  t398 = (t384 * t47 + t57) * t97;
  t403 = t31 * t99;
  m(1,5) = t383 * (t221 * t398 + t163 * t389 + t4 * (t221 * t403 - t27 * t393)) * t6 - t170 * (-t163 * t437 + t221 * t423);
  t442 = t31 * t29;
  t443 = t31 * t6;
  t444 = t442 + t443 + t34;
  t445 = t444 * param.l6;
  t448 = -t61;
  t450 = t53 * t31;
  t451 = t450 - t404;
  t454 = t50 * param.l5;
  t455 = t74 + t177;
  t456 = t455 * t454;
  t459 = t27 * t53;
  t466 = -t326;
  t470 = t8 * t403;
  t477 = param.l5 * t444;
  t480 = -t55;
  t484 = t50 * param.l6;
  t485 = t455 * t484;
  t488 = t8 * t27;
  t430 = t8 * t451;
  t441 = t27 * t466;
  t500 = ((t47 * (t191 * t27 - t445) + t27 * t448 + t430 * param.l6 + t456) * t97 + t47 * (-t338 * t459 * t99 + t270 - t271) + param.l6 * t441 - t470 * t16 + t50 * t298 - t345 * t108) * t14 - t22 * ((t47 * (t139 * t27 - t477) + t27 * t480 + param.l5 * t430 - t485) * t97 + t47 * (-t488 * t60 * t99 - t109 - t112) + t27 * param.l5 * t466 + t470 * t7 + t50 * t293 - t340 * t108);
  t509 = t27 * t33;
  t517 = -t31 * t344;
  t519 = (t34 + t443) * t50;
  t520 = t517 + t519;
  t492 = t47 * (-param.l6 * t488 + t296);
  t505 = t47 * (param.l5 * t27 * t8 + param.l6 * t31);
  t542 = ((param.l6 * t143 + t492) * t97 * t111 + t47 * (param.l5 * t455 - t338 * t509 - t89) + t27 * t364 + t520 * param.l6) * t14 + (t111 * (t505 - t144) * t97 + t47 * (param.l5 * t33 * t488 + param.l6 * t455 + t73) - t27 * t360 - param.l5 * t520) * t22;
  m(1,6) = t163 * t542 + t221 * t500;
  m(1,7) = 0.0e0;
  t548 = t14 * t480;
  t549 = t22 * t448;
  m(2,1) = (((-t182 + t314 - t37 - t44) * t47 + t27 * (t548 + t549 + t64 + t65) - t186 * t14 + (-t83 + t85 - t86) * t31 - t93 - t64 + t94) * t97 + (t107 - t114 + t118 - t120 - t121) * t47 - t201 - t203 * t14 - t207 * t31 - t160) * t221 - t163 * t220;
  t580 = t221 * t111;
  m(2,2) = t163 * t252 + t262 * t580;
  m(2,3) = t163 * t303 + t221 * t317;
  m(2,4) = t163 * t351 + t221 * t381;
  t593 = t50 * t27;
  t557 = t383 * t6;
  m(2,5) = -(t163 * t423 + t221 * t437) * t170 - (-t163 * t398 + t221 * t389 - t4 * (t163 * t403 + t221 * t593)) * t557;
  m(2,6) = t163 * t500 - t221 * t542;
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  t606 = -t237;
  m(3,2) = t97 * t234 + (t47 * t53 * (t258 * t27 + t31 * t606 + param.l3) - t233 + t31 * t25 - t249) * t99;
  t621 = t97 * t53;
  m(3,3) = t99 * (t50 * (t314 - t37 - t266 + t267) - t47 * t285) - (-t248 * t47 + t50 * t307) * t621;
  m(3,4) = t99 * (t27 * t334 + (t245 * t47 + t548 + t549 + t64 + t65) * t31) - t97 * (t27 * (t47 * t53 * t606 + t15 + t23 + t24) + (t312 * t53 + t224 + t39 - t40) * t31);
  t644 = t31 * t97;
  t647 = t50 * t99;
  t655 = t4 * t1;
  t665 = -t419;
  t668 = (t27 * t4 * t408 + t665 * t8) * t97;
  t619 = t33 * t47;
  m(3,5) = ((-t391 * t99 + t644) * t4 - t8 * t647) * t557 + ((t27 * (t432 * t8 - t208) - t50 * t655 + t4 * t377 + t8 * t619) * t99 + t668) * t170;
  t693 = t31 * t8;
  t696 = t53 * t4;
  t630 = -t8 * t451;
  m(3,6) = ((t47 * (t21 * t27 + t445) + t27 * t61 + param.l6 * t630 - t456) * t14 - t22 * (t47 * (t12 * t27 + t477) + t27 * t55 + param.l5 * t630 + t485)) * t99 - t97 * ((t16 * t693 - t27 * t38 + t31 * t345 - t484 * t696 - t492 * t53) * t14 + t22 * (t223 * t27 + t31 * t358 + t454 * t696 - t505 * t53 + t693 * t7));
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  m(4,2) = -t580;
  t710 = t163 * t111;
  t662 = t97 * t53;
  m(4,3) = t221 * t662 - t710 * t99;
  t718 = -t53 * t647 + (t33 * t97 + t111) * t47;
  t720 = t425 + t33;
  m(4,4) = t221 * t718 - t393 * t720;
  t724 = t47 * t100;
  t678 = t402 * t27;
  t730 = t31 * (t33 * t50 * t97 + t132 - t133 + t724) + t97 * t678;
  t735 = t31 * t47 * t720 - t199 * t27;
  m(4,5) = t163 * t735 + t221 * t730;
  t737 = t31 * t47;
  t739 = -t10 * t737 - t400 - t404 + t450;
  t745 = t4 * (t97 * t739 - (t724 - t133 + t132) * t27) + t422;
  t692 = t47 * (t509 + t1);
  t752 = (t199 * t31 + t427 + t692) * t4 + t436;
  m(4,6) = -t163 * t752 + t221 * t745;
  t768 = t8 * t6;
  t773 = t47 * (t768 + t10) * t27 - t459 - t455 * t50;
  t706 = t47 * (-t1 * t384 - t34 - t442 - t443) - (t400 + t404 - t450) * t8;
  t780 = (t706 * t97 + t47 * (-t100 * t488 - t119) + t441 - t419 * t289) * t22 + t14 * (t97 * t773 + (t768 * t99 - t132 + t133 - t724) * t31);
  t798 = (t97 * (t426 * t8 - t143) * t111 + t8 * t692 - t593 * t655 - t517 - t519) * t22 + (t425 * t737 + t47 * t455 + (t50 * t768 - t197 + t198) * t27) * t14;
  m(4,7) = -t163 * t798 + t221 * t780;
  m(5,1) = 0.0e0;
  m(5,2) = -t710;
  m(5,3) = t163 * t662 + t580 * t99;
  m(5,4) = t221 * t50 * t720 + t163 * t718;
  m(5,5) = t163 * t730 - t221 * t735;
  m(5,6) = t163 * t745 + t221 * t752;
  m(5,7) = t163 * t780 + t221 * t798;
  m(6,1) = 0.0e0;
  m(6,2) = 0.0e0;
  m(6,3) = -t100;
  m(6,4) = -t50 * t621 - t619 * t99;
  m(6,5) = (-t31 * t33 * t50 - t678) * t99 + t408 * t644;
  m(6,6) = t99 * (-t389 * t415 - t4 * t739) - t668;
  m(6,7) = (-t14 * t773 - t22 * t706) * t99 + t97 * (t22 * (t27 * t30 + t4 * t665 - t426 * t68) + (t768 - t407 + t10) * t165);
  tmpreturn = m;
