function tmpreturn = geo_jacobian_endeffector_p(q, q_p, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = q_p(5);
  t2 = t1 * param.l5;
  t3 = q(5);
  t4 = sin(t3);
  t5 = t2 * t4;
  t6 = q_p(6);
  t7 = param.l6 * t6;
  t8 = cos(t3);
  t10 = q_p(4);
  t11 = param.l6 * t10;
  t12 = -t7 * t8 - t11 + t5;
  t13 = q(6);
  t14 = cos(t13);
  t15 = t14 * t12;
  t16 = t6 * param.l5;
  t18 = param.l6 * t1;
  t19 = t4 * t18;
  t20 = t10 * param.l5;
  t21 = t16 * t8 + t19 + t20;
  t22 = sin(t13);
  t23 = t22 * t21;
  t24 = param.l4 * t10;
  t25 = t15 + t23 + t24;
  t26 = q(4);
  t27 = cos(t26);
  t28 = t27 * t25;
  t29 = t8 * t10;
  t30 = t29 + t6;
  t31 = sin(t26);
  t33 = q_p(3);
  t34 = t33 * t4;
  t35 = t30 * t31 + t34;
  t37 = t14 * t35 * param.l5;
  t38 = t30 * param.l6;
  t39 = t22 * t38;
  t40 = t10 * param.l3;
  t43 = param.l6 * t22;
  t44 = t43 * t34;
  t46 = q(3);
  t47 = cos(t46);
  t49 = t8 * param.l5;
  t50 = sin(t46);
  t51 = t33 * t50;
  t53 = q_p(2);
  t54 = param.l6 * t53;
  t55 = t49 * t51 + t54;
  t56 = t14 * t55;
  t57 = t8 * t50;
  t60 = t53 * param.l5;
  t61 = param.l6 * t33 * t57 - t60;
  t62 = t22 * t61;
  t63 = t33 * param.l3;
  t64 = t63 * t50;
  t65 = t53 * param.l4;
  t67 = t27 * (t56 + t62 - t64 - t65);
  t68 = t8 * t53;
  t71 = -param.l5 * t68 + param.l6 * t51;
  t73 = t2 * t8;
  t74 = t4 * t6;
  t75 = param.l6 * t74;
  t77 = (t73 + t75) * t50;
  t83 = t22 * (-param.l5 * t51 - param.l6 * t68);
  t85 = t50 * param.l4 * t33;
  t86 = t53 * param.l3;
  t89 = t8 * t18;
  t90 = param.l5 * t74;
  t76 = t22 * (t89 - t90);
  t93 = t50 * t76;
  t94 = t53 * param.l2;
  t96 = q(2);
  t97 = cos(t96);
  t99 = sin(t96);
  t100 = t99 * t53;
  t78 = param.l5 * t14;
  t80 = param.l6 * t22;
  t105 = -t78 * t8 - t8 * t80 + param.l3;
  t106 = t27 * t105;
  t107 = t100 * t106;
  t108 = t31 * t99;
  t109 = t108 * t54;
  t111 = q_p(1);
  t112 = t111 * t4 * param.l5;
  t114 = t14 * (t109 + t112);
  t115 = param.l5 * t22;
  t116 = t115 + param.l4;
  t117 = t31 * t116;
  t118 = t117 * t100;
  t119 = t111 * t4;
  t120 = t43 * t119;
  t121 = t99 * t86;
  t124 = t8 * t111;
  t127 = t124 * t50 - t30 * t99;
  t132 = t50 * t111;
  t133 = t99 * t10;
  t134 = t132 - t133;
  t135 = t134 * param.l3;
  t138 = param.l6 * t132;
  t139 = -t12;
  t143 = t50 * t4;
  t144 = param.l5 * t143;
  t148 = param.l5 * t132;
  t152 = t134 * param.l4;
  t155 = param.l6 * t4;
  t156 = t22 * t155;
  t160 = (param.l3 * t111 - t100 * t156) * t50;
  t162 = q(1);
  t163 = sin(t162);
  t165 = cos(t162);
  t166 = t31 * t14;
  t167 = param.l6 * t166;
  t171 = t78 + t43;
  t172 = t171 * t143;
  t176 = t105 * t33;
  t177 = t27 * t176;
  t178 = t31 * t33;
  t123 = t111 * t99;
  t189 = param.l6 * t123;
  t192 = -t21;
  t195 = param.l5 * t123;
  t198 = t111 * t99;
  t199 = t50 * t10;
  t200 = t198 - t199;
  t201 = t200 * param.l4;
  t207 = t124 * t99 - t30 * t50;
  t209 = t4 * t51;
  t215 = t200 * param.l3;
  t146 = t14 * (param.l6 * t178 + t73 + t75);
  t221 = -t97 * (t47 * (t106 - t167 + t117 - param.l3) + t172) * t111 + (-t116 * t31 * t33 + t146 - t177 + t63 + t76) * t47 + t27 * (t14 * (t139 * t50 - t189) + t22 * (t192 * t50 + t195) + t201) + t14 * (t207 * t31 - t209) * param.l5 + t31 * (param.l6 * t207 * t22 - t215) - t156 * t51 + param.l2 * t123;
  t184 = t31 * (t39 - t40);
  t188 = t31 * t71 + t77;
  t203 = t27 * (param.l6 * t127 * t22 + t127 * t78 - t135);
  t205 = t31 * (-t139 * t99 + t138) - t144 * t100;
  t210 = t22 * (t21 * t99 - t148) - t152;
  m(1,1) = (((t184 + t28 + t37 + t44) * t47 + t67 + t188 * t14 + t31 * (t83 - t85 + t86) + t93 + t64 - t94) * t97 + t47 * (-t107 + t114 - t118 + t120 + t121) + t203 + t205 * t14 + t210 * t31 + t160) * t163 - t221 * t165;
  t223 = param.l5 * t30;
  t224 = t14 * t223;
  t225 = t224 + t39 - t40;
  t230 = t14 * t71;
  t234 = t47 * (t171 * t34 + t225 * t31 + t28) + t67 + t31 * (t230 + t83 - t85 + t86) + t14 * t77 + t93 + t64 - t94;
  t236 = param.l6 * t14;
  t237 = -t236 + t115 + param.l4;
  t245 = t139 * t14 + t192 * t22 - t24;
  t247 = t50 * t53;
  t248 = t171 * t4;
  t249 = t247 * t248;
  t232 = t47 * (t237 * t31 - param.l3 + t106);
  t235 = t27 * t225;
  t252 = t99 * t234 + t97 * (t232 * t53 + t245 * t31 + t235 + t249);
  t254 = t163 * t111;
  t259 = -t105;
  t263 = (t232 + t172) * t99 + t97 * (t237 * t27 + t259 * t31 + param.l2);
  m(1,2) = t165 * t252 - t254 * t263;
  t266 = t22 * t35 * param.l6;
  t267 = t31 * t40;
  t270 = t108 * t60;
  t271 = t111 * t155;
  t274 = param.l4 * t31;
  t275 = -t274 + param.l3;
  t280 = -t146;
  t283 = t22 * (param.l5 * t178 - t89 + t90);
  t284 = t275 * t33;
  t285 = t177 + t280 + t283 - t284;
  t289 = t4 * t99;
  t293 = -param.l6 * t111 * t31 + t289 * t60;
  t296 = t31 * param.l5;
  t298 = t111 * t296 + t289 * t54;
  t303 = t50 * (t97 * (t28 + t37 + t266 - t267) - t107 + t114 + t22 * (-t270 + t271) + t275 * t100) + (t105 * t111 * t27 - t111 * t275 + t14 * t293 + t22 * t298 + t285 * t97) * t47;
  t307 = param.l5 * t22 * t31 - param.l3 + t106 - t167 + t274;
  t314 = t245 * t27;
  t317 = t50 * (t111 * t307 * t97 + t177 + t280 + t283 - t284) + (-t119 * t171 * t97 - t266 + t267 + t314 - t37) * t47;
  m(1,3) = -t163 * t317 + t165 * t303;
  t325 = t99 * t6;
  t326 = t134 * t8 - t325;
  t334 = t225 * t47 + t230 + t83 - t85 + t86;
  t338 = t8 * param.l6;
  t340 = t5 - t11;
  t345 = t19 + t20;
  t315 = t105 * t47;
  t323 = t237 * t47;
  t351 = (t97 * (t25 * t47 + t56 + t62 - t64 - t65) - t100 * t315 + t326 * t78 + t326 * t80 - t135) * t31 - t27 * (t97 * t334 - t100 * t323 + t14 * (-t325 * t338 + t340 * t99 + t138) + t22 * (t325 * t49 + t345 * t99 - t148) - t152);
  t353 = t111 * t47;
  t358 = -t340;
  t360 = -t358 * t50 - t57 * t7 + t189;
  t364 = t16 * t57 + t345 * t50 - t195;
  t344 = t8 * t200;
  t374 = -t50 * t6 + t344;
  t381 = t31 * (t105 * t353 * t97 + t14 * t360 + t176 * t47 + t22 * t364 - t201) - (-param.l5 * t14 * t374 + t237 * t353 * t97 + t323 * t33 - t374 * t80 + t215) * t27;
  m(1,4) = -t163 * t381 + t165 * t351;
  t383 = t27 * t51;
  t385 = -t10 * t47 + t53;
  t387 = t50 * t1;
  t390 = t47 * t53;
  t391 = t390 - t10;
  t397 = t27 * t1;
  t398 = t397 + t33;
  t402 = t1 * t31 - t247;
  t405 = (t398 * t47 * t97 + t402 * t99 + t353) * t8;
  t376 = t31 * t385;
  t406 = ((t376 - t383 - t387) * t97 - t27 * (t391 * t99 + t132)) * t4 + t405;
  t408 = t97 * t111;
  t409 = t27 * t47;
  t410 = t409 * t408;
  t415 = t47 * t1;
  t419 = (t408 + t397 + t33) * t57;
  t389 = t27 * t47;
  t420 = (t198 * t31 - t199 * t31 + t33 * t389 + t410 + t415) * t4 + t419;
  t424 = t27 * t4;
  t429 = t47 * t8;
  t433 = t50 * t27;
  t438 = t115 - t236;
  t407 = t438 * t6;
  t411 = (t424 * t47 + t57) * t97;
  t414 = t31 * t99;
  m(1,5) = -(-t163 * t420 + t165 * t406) * t171 + (t165 * t411 + t163 * t429 + t4 * (-t163 * t433 + t165 * t414)) * t407;
  t442 = t31 * t29;
  t443 = t31 * t6;
  t444 = t442 + t443 + t34;
  t445 = t444 * param.l6;
  t448 = -t61;
  t450 = t53 * t31;
  t451 = t450 - t387;
  t454 = t50 * param.l5;
  t455 = t74 + t178;
  t456 = t455 * t454;
  t459 = t27 * t53;
  t470 = t8 * t414;
  t477 = t444 * param.l5;
  t480 = -t55;
  t484 = t50 * param.l6;
  t485 = t455 * t484;
  t488 = t8 * t27;
  t431 = t451 * t8;
  t441 = -t27 * t326;
  t500 = ((t47 * (t192 * t27 - t445) + t27 * t448 + param.l6 * t431 + t456) * t97 + t47 * (-t338 * t459 * t99 + t270 - t271) + param.l6 * t441 - t470 * t16 + t50 * t298 - t345 * t108) * t14 - t22 * ((t47 * (t139 * t27 - t477) + t27 * t480 + param.l5 * t431 - t485) * t97 + t47 * (-t488 * t60 * t99 - t109 - t112) + param.l5 * t441 + t470 * t7 + t50 * t293 - t340 * t108);
  t509 = t27 * t33;
  t517 = -t31 * t344;
  t519 = (t34 + t443) * t50;
  t520 = t517 + t519;
  t490 = t47 * (-param.l6 * t488 + t296);
  t504 = t47 * (param.l5 * t27 * t8 + param.l6 * t31);
  t542 = (t111 * (param.l6 * t143 + t490) * t97 + t47 * (param.l5 * t455 - t338 * t509 - t89) + t27 * t364 + t520 * param.l6) * t14 + (t111 * (t504 - t144) * t97 + t47 * (param.l5 * t33 * t488 + param.l6 * t455 + t73) - t27 * t360 - param.l5 * t520) * t22;
  m(1,6) = t163 * t542 + t165 * t500;
  m(1,7) = 0.0e0;
  t548 = t14 * t480;
  t549 = t22 * t448;
  m(2,1) = (((-t184 + t314 - t37 - t44) * t47 + t27 * (t548 + t549 + t64 + t65) - t188 * t14 + (-t83 + t85 - t86) * t31 - t93 - t64 + t94) * t97 + (t107 - t114 + t118 - t120 - t121) * t47 - t203 - t205 * t14 - t210 * t31 - t160) * t165 - t163 * t221;
  m(2,2) = t111 * t165 * t263 + t163 * t252;
  m(2,3) = t163 * t303 + t165 * t317;
  m(2,4) = t163 * t351 + t165 * t381;
  m(2,5) = -(t163 * t406 + t165 * t420) * t171 - t438 * t6 * (-t163 * t411 + t165 * t429 - t4 * (t163 * t414 + t165 * t433));
  m(2,6) = t163 * t500 - t165 * t542;
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  t605 = -t237;
  m(3,2) = t97 * t234 + t99 * (t47 * (t259 * t27 + t31 * t605 + param.l3) * t53 - t235 + t25 * t31 - t249);
  m(3,3) = t99 * (t50 * (t314 - t37 - t266 + t267) - t47 * t285) - t53 * (-t248 * t47 + t50 * t307) * t97;
  m(3,4) = t99 * (t27 * t334 + (t245 * t47 + t548 + t549 + t64 + t65) * t31) - t97 * (t27 * (t47 * t53 * t605 + t15 + t23 + t24) + t31 * (t315 * t53 + t224 + t39 - t40));
  t643 = t31 * t97;
  t646 = t50 * t99;
  t654 = t4 * t1;
  t664 = -t402;
  t667 = (t27 * t391 * t4 + t664 * t8) * t97;
  t618 = t33 * t47;
  m(3,5) = ((-t389 * t99 + t643) * t4 - t8 * t646) * t407 + t171 * ((t27 * (t415 * t8 - t209) - t50 * t654 + t4 * t376 + t8 * t618) * t99 + t667);
  t692 = t31 * t8;
  t695 = t53 * t4;
  t628 = -t451 * t8;
  m(3,6) = ((t47 * (t21 * t27 + t445) + t27 * t61 + param.l6 * t628 - t456) * t14 - t22 * (t47 * (t12 * t27 + t477) + t27 * t55 + param.l5 * t628 + t485)) * t99 - t97 * ((t16 * t692 - t27 * t38 + t31 * t345 - t484 * t695 - t490 * t53) * t14 + t22 * (t223 * t27 + t31 * t358 + t454 * t695 - t504 * t53 + t692 * t7));
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  t709 = t111 * t165;
  m(4,2) = -t709;
  t660 = t53 * t97;
  m(4,3) = t165 * t660 - t254 * t99;
  t717 = -t53 * t646 + (t33 * t97 + t111) * t47;
  t720 = t408 + t33;
  m(4,4) = -t163 * t50 * t720 + t165 * t717;
  t724 = t47 * t100;
  t677 = t385 * t27;
  t730 = t31 * (t33 * t50 * t97 + t132 - t133 + t724) + t97 * t677;
  t735 = t31 * t47 * t720 - t200 * t27;
  m(4,5) = t163 * t735 + t165 * t730;
  t737 = t31 * t47;
  t739 = -t10 * t737 - t383 - t387 + t450;
  t745 = t4 * (t97 * t739 - (t724 - t133 + t132) * t27) + t405;
  t691 = t47 * (t509 + t1);
  t752 = (t200 * t31 + t410 + t691) * t4 + t419;
  m(4,6) = -t163 * t752 + t165 * t745;
  t768 = t8 * t6;
  t773 = t47 * (t768 + t10) * t27 - t459 - t455 * t50;
  t705 = t47 * (-t1 * t424 - t34 - t442 - t443) - (t383 + t387 - t450) * t8;
  t780 = (t705 * t97 + t47 * (-t100 * t488 - t119) + t441 - t402 * t289) * t22 + (t97 * t773 + (t768 * t99 - t132 + t133 - t724) * t31) * t14;
  t798 = (t97 * (t409 * t8 - t143) * t111 + t8 * t691 - t433 * t654 - t517 - t519) * t22 + t14 * (t408 * t737 + t47 * t455 + (t50 * t768 - t198 + t199) * t27);
  m(4,7) = -t163 * t798 + t165 * t780;
  m(5,1) = 0.0e0;
  m(5,2) = -t254;
  m(5,3) = t163 * t660 + t709 * t99;
  m(5,4) = t165 * t50 * t720 + t163 * t717;
  m(5,5) = t163 * t730 - t165 * t735;
  m(5,6) = t163 * t745 + t165 * t752;
  m(5,7) = t163 * t780 + t165 * t798;
  m(6,1) = 0.0e0;
  m(6,2) = 0.0e0;
  m(6,3) = -t100;
  m(6,4) = -t50 * t53 * t97 - t618 * t99;
  m(6,5) = (-t31 * t33 * t50 - t677) * t99 + t391 * t643;
  m(6,6) = t99 * (-t398 * t429 - t4 * t739) - t667;
  m(6,7) = (-t14 * t773 - t22 * t705) * t99 + (t22 * (t27 * t30 + t4 * t664 - t409 * t68) + (t768 - t390 + t10) * t166) * t97;
  tmpreturn = m;
