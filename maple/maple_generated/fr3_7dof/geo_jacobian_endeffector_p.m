function tmpreturn = geo_jacobian_endeffector_p(q, q_p, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = q_p(6);
  t2 = t1 * param.l5;
  t3 = q(5);
  t4 = cos(t3);
  t6 = q_p(5);
  t7 = param.l6 + param.l7;
  t8 = t7 * t6;
  t9 = sin(t3);
  t10 = t9 * t8;
  t11 = q_p(4);
  t12 = t11 * param.l5;
  t5 = t4 * t2;
  t13 = t5 + t10 + t12;
  t14 = q(4);
  t15 = cos(t14);
  t16 = t13 * t15;
  t18 = t11 * t4 + t1;
  t19 = sin(t14);
  t21 = q_p(3);
  t22 = t9 * t21;
  t23 = t18 * t19 + t22;
  t24 = t23 * t7;
  t25 = t16 + t24;
  t26 = q(3);
  t27 = cos(t26);
  t29 = sin(t26);
  t30 = t29 * t21;
  t31 = t4 * t7;
  t32 = t31 * t30;
  t33 = q_p(2);
  t34 = param.l5 * t33;
  t35 = t32 - t34;
  t36 = t15 * t35;
  t37 = t7 * t33;
  t38 = t4 * t37;
  t39 = param.l5 * t30;
  t40 = -t38 - t39;
  t42 = t4 * t8;
  t43 = t9 * t1;
  t44 = param.l5 * t43;
  t46 = (t42 - t44) * t29;
  t41 = t19 * t40;
  t47 = t25 * t27 + t36 + t41 + t46;
  t48 = q(2);
  t49 = cos(t48);
  t51 = t4 * t33;
  t52 = sin(t48);
  t56 = t19 * t52;
  t58 = q_p(1);
  t59 = t9 * t58;
  t50 = t15 * t7;
  t61 = t50 * t51 * t52 - t34 * t56 + t59 * t7;
  t63 = t4 * t58;
  t66 = -t18 * t52 + t29 * t63;
  t68 = t66 * t50;
  t69 = t29 * t58;
  t70 = param.l5 * t69;
  t74 = t52 * t33;
  t75 = t9 * t29;
  t76 = t7 * t75;
  t77 = t76 * t74;
  t79 = q(6);
  t80 = sin(t79);
  t84 = param.l5 * t6;
  t85 = t9 * t84;
  t86 = t7 * t11;
  t87 = -t1 * t4 * t7 + t85 - t86;
  t88 = cos(t79);
  t89 = t88 * t87;
  t90 = t11 * param.l4;
  t92 = t15 * (t89 + t90);
  t73 = param.l5 * t88;
  t94 = t23 * t73;
  t95 = param.l3 * t11;
  t96 = t19 * t95;
  t99 = t21 * param.l5;
  t100 = t29 * t4;
  t101 = t100 * t99;
  t102 = t101 + t37;
  t104 = t21 * param.l3;
  t105 = t104 * t29;
  t106 = param.l4 * t33;
  t78 = t88 * t102;
  t108 = (t78 - t105 - t106) * t15;
  t109 = param.l5 * t51;
  t110 = t7 * t30;
  t111 = -t109 + t110;
  t113 = t4 * t84;
  t114 = t7 * t43;
  t116 = (t113 + t114) * t29;
  t119 = param.l4 * t21;
  t120 = t29 * t119;
  t121 = param.l3 * t33;
  t124 = t33 * param.l2;
  t128 = t4 * t73;
  t129 = -t128 + param.l3;
  t130 = t15 * t129;
  t131 = t130 * t74;
  t132 = t7 * t19;
  t133 = t132 * t74;
  t134 = t58 * param.l5;
  t135 = t9 * t134;
  t137 = t88 * (t133 + t135);
  t138 = param.l4 * t19;
  t139 = -t138 + param.l3;
  t140 = t139 * t74;
  t145 = t52 * t11;
  t146 = t69 - t145;
  t150 = t7 * t69;
  t151 = -t87;
  t155 = param.l5 * t29;
  t156 = t9 * t155;
  t161 = t19 * t146 * param.l4;
  t162 = param.l3 * t58;
  t163 = t29 * t162;
  t165 = q(1);
  t166 = sin(t165);
  t170 = -param.l5 * t19 + t15 * t31;
  t175 = t4 * t21;
  t176 = t50;
  t177 = t176 * t175;
  t178 = t19 * t21;
  t180 = -param.l5 * t178 + t177 + t42 - t44;
  t182 = -t13;
  t184 = t52 * t134;
  t192 = t9 * t30;
  t193 = t19 * (-t18 * t29 + t52 * t63) - t192;
  t197 = t88 * t132;
  t201 = param.l5 * t9;
  t202 = t201 * t29 * t88;
  t126 = t15 * t129;
  t207 = t21 * t126;
  t208 = t21 * t7;
  t212 = t139 * t21;
  t216 = t52 * t58;
  t217 = t7 * t216;
  t220 = t29 * t11;
  t221 = t216 - t220;
  t222 = t221 * param.l4;
  t227 = t221 * param.l3;
  t141 = t49 * t58;
  t172 = t88 * (t19 * t208 + t113 + t114);
  t231 = ((t170 * t27 - t76) * t141 + t27 * t180 + t15 * (t182 * t29 + t184) + t7 * t193) * t80 - t49 * (t27 * (t130 - t197 + t138 - param.l3) + t202) * t58 + (t172 - t207 + t212) * t27 + t15 * (t88 * (t151 * t29 - t217) + t222) + t88 * t193 * param.l5 - t19 * t227 + t52 * t58 * param.l2;
  t232 = cos(t165);
  t194 = t19 * (t13 * t52 - t70);
  t195 = t27 * t61;
  t205 = t111 * t19 + t116;
  t209 = t19 * (t121 - t120);
  t218 = t15 * (param.l5 * t66 * t88 - param.l3 * t146);
  t223 = t19 * (-t151 * t52 + t150) - t156 * t74;
  m(1,1) = ((t47 * t49 + t194 + t195 + t68 - t77) * t80 + (t27 * (t92 + t94 - t96) + t108 + t205 * t88 + t209 + t105 - t124) * t49 + t27 * (-t131 + t137 + t140) + t218 + t223 * t88 - t161 + t163) * t166 - t232 * t231;
  t235 = t18 * param.l5;
  t236 = t88 * t235;
  t237 = t236 - t95;
  t243 = t88 * t111;
  t247 = t80 * t47 + t27 * (t201 * t21 * t88 + t19 * t237 + t92) + t108 + t19 * (t243 - t120 + t121) + t88 * t116 + t105 - t124;
  t251 = t18 * t7;
  t252 = t15 * t251;
  t254 = t37 * t75;
  t258 = -t88 * t7;
  t259 = t258 + param.l4;
  t261 = t19 * t259 - param.l3 + t130;
  t265 = t88 * t151;
  t266 = t265 - t90;
  t246 = t33 * t27;
  t270 = (-t170 * t246 + t182 * t19 + t252 + t254) * t80 + t246 * t261 + t15 * t237 + t19 * t266 + t156 * t88 * t33;
  t272 = t247 * t52 + t270 * t49;
  t274 = t166 * t58;
  t275 = -t170;
  t277 = t27 * t275 + t76;
  t282 = t15 * param.l5;
  t283 = t19 * t4;
  t284 = t7 * t283;
  t292 = t52 * (t261 * t27 + t277 * t80 + t202) + t49 * (t80 * (t282 + t284) + t15 * t259 - t19 * t129 + param.l2);
  m(1,2) = t232 * t272 - t274 * t292;
  t301 = -t80 * t180;
  t303 = -t172;
  t307 = t19 * t134;
  t309 = t7 * t9 * t74;
  t316 = t9 * t52;
  t318 = -t19 * t58 * t7 + t316 * t34;
  t323 = t29 * (t49 * (t25 * t80 + t92 + t94 - t96) + t80 * t61 - t131 + t137 + t140) + (t49 * (t301 + t207 + t303 - t212) + t80 * (-t176 * t63 + t307 + t309) + t58 * t126 + t88 * t318 - t139 * t58) * t27;
  t326 = t275 * t80 - param.l3 + t130 + t138 - t197;
  t333 = t7 * t80 + t73;
  t336 = t15 * t182;
  t337 = t336 - t24;
  t339 = t15 * t266;
  t342 = t29 * (t326 * t49 * t58 + t207 - t212 + t301 + t303) + t27 * (-t333 * t49 * t59 + t337 * t80 + t339 - t94 + t96);
  m(1,3) = -t166 * t342 + t232 * t323;
  t347 = t27 * t52;
  t349 = t4 * t146;
  t350 = t52 * t1;
  t351 = t347 * t51 + t349 - t350;
  t364 = t27 * t74;
  t365 = t364 + t69 - t145;
  t372 = t33 * t27;
  t375 = t4 * param.l5;
  t377 = t10 + t12;
  t384 = t27 * t7;
  t387 = t85 - t86;
  t397 = t19 * (t80 * (t49 * (t13 * t27 + t32 - t34) + t351 * t7) + t88 * (t49 * (t27 * t87 + t101 + t37) + t351 * param.l5) + t49 * (t27 * t90 - t105 - t106) - t365 * param.l3) - (t80 * (t49 * (t251 * t27 - t38 - t39) - param.l5 * t52 * t372 + t375 * t350 + t52 * t377 - t70) + t88 * (t49 * (t235 * t27 - t109 + t110) + t384 * t74 - t31 * t350 + t52 * t387 + t150) + t49 * (-t27 * t95 - t120 + t121) - t365 * param.l4) * t15;
  t399 = t27 * t58;
  t403 = t100 * t2;
  t404 = t29 * t377;
  t407 = t49 * t58;
  t408 = t4 * t27;
  t411 = t27 * t21;
  t413 = t29 * t1;
  t414 = t31 * t413;
  t415 = -t387;
  t416 = t29 * t415;
  t389 = t4 * t221;
  t428 = t389 - t413;
  t443 = t19 * (t80 * (-t31 * t399 * t49 - t175 * t384 - t184 + t403 + t404) + t88 * (-param.l5 * t407 * t408 - t375 * t411 + t217 - t414 - t416) + t27 * t49 * t162 + t27 * t104 - t222) - t15 * (t80 * (param.l5 * t27 * t407 + t27 * t99 - t428 * t7) + t88 * (-t399 * t49 * t7 - param.l5 * t428 - t208 * t27) + t27 * param.l4 * t407 + t27 * t119 + t227);
  m(1,4) = -t166 * t443 + t232 * t397;
  t445 = param.l5 * t80;
  t446 = t258 + t445;
  t448 = t15 * t9;
  t456 = t166 * t29;
  t462 = t15 * t21;
  t463 = t29 * t462;
  t465 = -t11 * t27 + t33;
  t467 = t29 * t6;
  t470 = t372 - t11;
  t476 = t15 * t6;
  t477 = t476 + t21;
  t482 = t19 * t6 - t29 * t33;
  t485 = t4 * (t27 * t477 * t49 + t482 * t52 + t399);
  t447 = t19 * t465;
  t486 = ((t447 - t463 - t467) * t49 - (t470 * t52 + t69) * t15) * t9 + t485;
  t488 = t15 * t27;
  t489 = t488 * t407;
  t493 = t27 * t6;
  t497 = (t407 + t476 + t21) * t100;
  t498 = t9 * (t15 * t411 + t19 * t216 - t19 * t220 + t489 + t493) + t497;
  t468 = (t27 * t448 + t100) * t49;
  t472 = t19 * t52;
  m(1,5) = t1 * t446 * (t232 * t468 + t166 * t408 + t9 * (-t15 * t456 + t232 * t472)) - t333 * (-t166 * t498 + t232 * t486);
  t503 = t4 * t19 * t11;
  t504 = t19 * t1;
  t505 = t503 + t22 + t504;
  t506 = t505 * t7;
  t507 = t336 - t506;
  t509 = -t35;
  t510 = t15 * t509;
  t511 = t33 * t19;
  t512 = t511 - t467;
  t515 = t178 + t43;
  t516 = t515 * t155;
  t520 = -t195;
  t533 = t505 * param.l5;
  t535 = t27 * (t15 * t87 + t533);
  t536 = t15 * t102;
  t540 = t515 * t7 * t29;
  t543 = t15 * t4;
  t496 = t512 * t4;
  t508 = (t349 - t350) * t15;
  t556 = ((t27 * t507 + t496 * t7 + t510 + t516) * t49 + t520 - t7 * t508 - t5 * t56 + t29 * (t307 + t309) - t377 * t56) * t88 + ((-param.l5 * t496 + t535 + t536 + t540) * t49 + t27 * (t34 * t52 * t543 + t133 + t135) + param.l5 * t508 - t284 * t350 - t29 * t318 + t387 * t56) * t80;
  t561 = param.l5 * t515 - t177 - t42;
  t565 = t221 * t19;
  t568 = (t22 + t504) * t29;
  t569 = t4 * t565 - t568;
  t574 = t282 * t4 + t132;
  t580 = t515 * t7;
  t588 = (t277 * t141 + t27 * t561 + t15 * (t403 + t404 - t184) - t569 * t7) * t88 + t80 * ((t27 * t574 - t156) * t141 + t27 * (t543 * t99 + t113 + t580) + t15 * (t414 + t416 - t217) + param.l5 * t569);
  m(1,6) = t166 * t588 + t232 * t556;
  m(1,7) = 0.0e0;
  t602 = -t78;
  m(2,1) = (((t27 * t337 - t41 - t46 + t510) * t49 + t520 - t68 - t194 + t77) * t80 + (t27 * (t339 - t94 + t96) + t15 * (t602 + t105 + t106) - t205 * t88 - t209 - t105 + t124) * t49 + (t131 - t137 - t140) * t27 - t218 - t223 * t88 + t161 - t163) * t232 - t166 * t231;
  t627 = t232 * t58;
  m(2,2) = t166 * t272 + t292 * t627;
  m(2,3) = t166 * t323 + t342 * t232;
  m(2,4) = t166 * t397 + t232 * t443;
  t636 = t29 * t15;
  m(2,5) = -t1 * (-t166 * t468 + t232 * t408 - t9 * (t166 * t472 + t232 * t636)) * t446 - t333 * (t166 * t486 + t232 * t498);
  m(2,6) = t166 * t556 - t232 * t588;
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  m(3,2) = t247 * t49 - t270 * t52;
  t664 = t49 * t33;
  m(3,3) = t52 * (t29 * (t507 * t80 - t533 * t88 + t339 + t96) - t27 * (t80 * t561 + t207 + t88 * (-t113 - t580) - t212)) - (-t27 * t333 * t9 + t29 * t326) * t664;
  t670 = t80 * t251;
  m(3,4) = t52 * (t15 * (t27 * (t670 + t236 - t95) + t80 * t40 + t243 - t120 + t121) + (t27 * (t182 * t80 + t265 - t90) + t80 * t509 + t602 + t105 + t106) * t19) - t49 * (t15 * (-t27 * (t445 + t258 + param.l4) * t33 + t80 * t13 + t89 + t90) + (t27 * (-t31 * t80 + param.l3 - t128) * t33 + t670 + t236 - t95) * t19);
  t699 = t19 * t49;
  t702 = t29 * t52;
  t710 = t9 * t6;
  t719 = -t482;
  t722 = (t15 * t470 * t9 + t4 * t719) * t49;
  m(3,5) = t446 * t1 * (t9 * (-t15 * t347 + t699) - t4 * t702) + ((t15 * (t4 * t493 - t192) - t29 * t710 + t9 * t447 + t27 * t175) * t52 + t722) * t333;
  t688 = -t512 * t4;
  m(3,6) = ((t27 * (t16 + t506) + t36 + t7 * t688 - t516) * t88 - t80 * (param.l5 * t688 + t535 + t536 + t540)) * t52 - t49 * ((t19 * t377 + t2 * t283 - t246 * t275 - t252 - t254) * t88 + t80 * (t155 * t33 * t9 + t15 * t235 + t19 * t415 - t246 * t574 + t31 * t504));
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  m(4,2) = -t627;
  t715 = t49 * t33;
  m(4,3) = t232 * t715 - t274 * t52;
  t762 = -t33 * t702 + (t21 * t49 + t58) * t27;
  t764 = t407 + t21;
  m(4,4) = t232 * t762 - t456 * t764;
  t731 = t465 * t15;
  t773 = t19 * (t21 * t29 * t49 - t145 + t364 + t69) + t49 * t731;
  t778 = t19 * t27 * t764 - t15 * t221;
  m(4,5) = t166 * t778 + t232 * t773;
  t780 = t19 * t27;
  t782 = -t11 * t780 - t463 - t467 + t511;
  t787 = t9 * (-t15 * t365 + t49 * t782) + t485;
  t743 = t27 * (t462 + t6);
  t793 = (t743 + t489 + t565) * t9 + t497;
  m(4,6) = -t166 * t793 + t232 * t787;
  t812 = t4 * t1;
  t818 = t27 * (t812 + t11) * t15 - t15 * t33 - t515 * t29;
  t756 = t27 * (-t448 * t6 - t22 - t503 - t504) - (t463 + t467 - t511) * t4;
  t825 = (t756 * t49 + t27 * (-t543 * t74 - t59) + (-t349 + t350) * t15 - t482 * t316) * t80 + t88 * (t49 * t818 + (t52 * t812 + t145 - t364 - t69) * t19);
  t846 = (t49 * (t4 * t488 - t75) * t58 + t4 * t743 - t636 * t710 + t19 * t389 - t568) * t80 + t88 * (t407 * t780 + t27 * t515 + (t29 * t812 - t216 + t220) * t15);
  m(4,7) = -t166 * t846 + t232 * t825;
  m(5,1) = 0.0e0;
  m(5,2) = -t274;
  m(5,3) = t166 * t715 + t52 * t627;
  m(5,4) = t232 * t29 * t764 + t166 * t762;
  m(5,5) = t166 * t773 - t232 * t778;
  m(5,6) = t166 * t787 + t232 * t793;
  m(5,7) = t166 * t825 + t232 * t846;
  m(6,1) = 0.0e0;
  m(6,2) = 0.0e0;
  m(6,3) = -t74;
  m(6,4) = -t21 * t27 * t52 - t29 * t664;
  m(6,5) = (-t19 * t21 * t29 - t731) * t52 + t470 * t699;
  m(6,6) = t52 * (-t408 * t477 - t782 * t9) - t722;
  m(6,7) = (-t756 * t80 - t818 * t88) * t52 + (t80 * (t15 * t18 - t488 * t51 + t719 * t9) + (t812 - t372 + t11) * t19 * t88) * t49;
  tmpreturn = m;
