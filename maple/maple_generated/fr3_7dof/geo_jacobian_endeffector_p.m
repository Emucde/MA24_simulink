function tmpreturn = geo_jacobian_endeffector_p(q, q_p, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = q_p(5);
  t2 = t1 * param.l5;
  t3 = q(5);
  t4 = sin(t3);
  t5 = t4 * t2;
  t6 = q_p(6);
  t7 = cos(t3);
  t8 = t7 * t6;
  t10 = q_p(4);
  t11 = param.l6 * t10;
  t12 = -param.l6 * t8 - t11 + t5;
  t13 = q(6);
  t14 = cos(t13);
  t15 = t12 * t14;
  t16 = t6 * param.l5;
  t18 = param.l6 * t1;
  t19 = t4 * t18;
  t20 = t10 * param.l5;
  t21 = t16 * t7 + t19 + t20;
  t22 = sin(t13);
  t23 = t22 * t21;
  t24 = param.l4 * t10;
  t25 = t15 + t23 + t24;
  t26 = q(4);
  t27 = cos(t26);
  t28 = t27 * t25;
  t29 = t7 * t10;
  t30 = t29 + t6;
  t31 = sin(t26);
  t33 = q_p(3);
  t34 = t33 * t4;
  t35 = t30 * t31 + t34;
  t37 = t14 * t35 * param.l5;
  t38 = t30 * param.l6;
  t39 = t22 * t38;
  t40 = t10 * param.l3;
  t43 = param.l6 * t22;
  t44 = t43 * t34;
  t46 = q(3);
  t47 = cos(t46);
  t49 = param.l5 * t7;
  t50 = sin(t46);
  t51 = t33 * t50;
  t53 = q_p(2);
  t54 = t53 * param.l6;
  t55 = t49 * t51 + t54;
  t56 = t14 * t55;
  t57 = t50 * t7;
  t60 = t53 * param.l5;
  t61 = param.l6 * t33 * t57 - t60;
  t62 = t22 * t61;
  t63 = t33 * param.l3;
  t64 = t50 * t63;
  t65 = param.l4 * t53;
  t67 = t27 * (t56 + t62 - t64 - t65);
  t68 = t7 * t53;
  t71 = -param.l5 * t68 + param.l6 * t51;
  t73 = t7 * t2;
  t74 = t4 * t6;
  t75 = param.l6 * t74;
  t77 = (t73 + t75) * t50;
  t83 = t22 * (-param.l5 * t51 - param.l6 * t68);
  t85 = t50 * param.l4 * t33;
  t86 = t53 * param.l3;
  t89 = t7 * t18;
  t90 = param.l5 * t74;
  t76 = t22 * (t89 - t90);
  t93 = t50 * t76;
  t94 = t53 * param.l2;
  t96 = q(2);
  t97 = cos(t96);
  t99 = sin(t96);
  t100 = t99 * t53;
  t78 = param.l5 * t14;
  t105 = -param.l6 * t22 * t7 - t7 * t78 + param.l3;
  t106 = t27 * t105;
  t107 = t100 * t106;
  t108 = t31 * t99;
  t109 = t108 * t54;
  t111 = q_p(1);
  t112 = t111 * t4 * param.l5;
  t114 = t14 * (t109 + t112);
  t115 = param.l5 * t22;
  t116 = t115 + param.l4;
  t117 = t31 * t116;
  t118 = t117 * t100;
  t119 = t111 * t4;
  t120 = t43 * t119;
  t121 = t99 * t86;
  t124 = t7 * t111;
  t127 = t124 * t50 - t30 * t99;
  t132 = t50 * t111;
  t133 = t99 * t10;
  t134 = t132 - t133;
  t135 = t134 * param.l3;
  t138 = param.l6 * t132;
  t139 = -t12;
  t143 = t50 * param.l5;
  t144 = t4 * t143;
  t148 = param.l5 * t132;
  t152 = t134 * param.l4;
  t155 = param.l6 * t4;
  t156 = t22 * t155;
  t160 = (param.l3 * t111 - t100 * t156) * t50;
  t162 = q(1);
  t163 = sin(t162);
  t165 = cos(t162);
  t166 = t31 * t14;
  t167 = param.l6 * t166;
  t170 = t4 * t50;
  t172 = t78 + t43;
  t173 = t172 * t170;
  t177 = t105 * t33;
  t178 = t27 * t177;
  t179 = t31 * t33;
  t125 = t111 * t99;
  t190 = param.l6 * t125;
  t193 = -t21;
  t196 = param.l5 * t125;
  t199 = t111 * t99;
  t200 = t50 * t10;
  t201 = t199 - t200;
  t202 = t201 * param.l4;
  t208 = t124 * t99 - t30 * t50;
  t210 = t4 * t51;
  t216 = t201 * param.l3;
  t147 = t14 * (param.l6 * t179 + t73 + t75);
  t222 = -t97 * (t47 * (t106 - t167 + t117 - param.l3) + t173) * t111 + (-t116 * t31 * t33 + t147 - t178 + t63 + t76) * t47 + t27 * (t14 * (t139 * t50 - t190) + t22 * (t193 * t50 + t196) + t202) + t14 * (t208 * t31 - t210) * param.l5 + t31 * (param.l6 * t208 * t22 - t216) - t156 * t51 + param.l2 * t125;
  t186 = t31 * (t39 - t40);
  t191 = t31 * t71 + t77;
  t205 = t27 * (param.l5 * t127 * t14 + param.l6 * t127 * t22 - t135);
  t207 = t31 * (-t139 * t99 + t138) - t144 * t100;
  t212 = t22 * (t21 * t99 - t148) - t152;
  m(1,1) = (((t186 + t28 + t37 + t44) * t47 + t67 + t191 * t14 + t31 * (t83 - t85 + t86) + t93 + t64 - t94) * t97 + t47 * (-t107 + t114 - t118 + t120 + t121) + t205 + t207 * t14 + t212 * t31 + t160) * t163 - t222 * t165;
  t224 = t30 * param.l5;
  t225 = t14 * t224;
  t226 = t225 + t39 - t40;
  t231 = t14 * t71;
  t235 = t47 * (t172 * t34 + t226 * t31 + t28) + t67 + t31 * (t231 + t83 - t85 + t86) + t14 * t77 + t93 + t64 - t94;
  t237 = param.l6 * t14;
  t238 = -t237 + t115 + param.l4;
  t240 = t238 * t31 - param.l3 + t106;
  t246 = t139 * t14 + t193 * t22 - t24;
  t248 = t50 * t53;
  t249 = t172 * t4;
  t250 = t248 * t249;
  t234 = t47 * t53;
  t239 = t27 * t226;
  t253 = t99 * t235 + (t234 * t240 + t246 * t31 + t239 + t250) * t97;
  t259 = -t105;
  t264 = t111 * (t99 * (t240 * t47 + t173) + t97 * (t238 * t27 + t259 * t31 + param.l2));
  m(1,2) = -t163 * t264 + t165 * t253;
  t267 = t22 * t35 * param.l6;
  t268 = t31 * t40;
  t271 = t108 * t60;
  t272 = t111 * t155;
  t275 = param.l4 * t31;
  t276 = -t275 + param.l3;
  t281 = -t147;
  t284 = t22 * (param.l5 * t179 - t89 + t90);
  t285 = t276 * t33;
  t286 = t178 + t281 + t284 - t285;
  t290 = t4 * t99;
  t294 = -param.l6 * t111 * t31 + t290 * t60;
  t297 = t31 * param.l5;
  t299 = t111 * t297 + t290 * t54;
  t304 = t50 * (t97 * (t28 + t37 + t267 - t268) - t107 + t114 + t22 * (-t271 + t272) + t276 * t100) + t47 * (t105 * t111 * t27 - t111 * t276 + t14 * t294 + t22 * t299 + t286 * t97);
  t308 = param.l5 * t22 * t31 - param.l3 + t106 - t167 + t275;
  t315 = t27 * t246;
  t300 = t97 * t111;
  t318 = (t300 * t308 + t178 + t281 + t284 - t285) * t50 + (-t119 * t172 * t97 - t267 + t268 + t315 - t37) * t47;
  m(1,3) = -t163 * t318 + t165 * t304;
  t326 = t99 * t6;
  t327 = t134 * t7 - t326;
  t335 = t226 * t47 + t231 + t83 - t85 + t86;
  t339 = param.l6 * t7;
  t341 = t5 - t11;
  t346 = t19 + t20;
  t319 = t105 * t47;
  t330 = t238 * t47;
  t352 = (t97 * (t25 * t47 + t56 + t62 - t64 - t65) - t100 * t319 + t14 * t327 * param.l5 + t22 * t327 * param.l6 - t135) * t31 - (t97 * t335 - t100 * t330 + t14 * (-t326 * t339 + t341 * t99 + t138) + t22 * (t326 * t49 + t346 * t99 - t148) - t152) * t27;
  t354 = t111 * t47;
  t358 = param.l6 * t6;
  t360 = -t341;
  t362 = -t358 * t57 - t360 * t50 + t190;
  t366 = t16 * t57 + t346 * t50 - t196;
  t350 = t7 * t201;
  t376 = -t50 * t6 + t350;
  t383 = t31 * (t105 * t354 * t97 + t14 * t362 + t177 * t47 + t22 * t366 - t202) - t27 * (-param.l5 * t14 * t376 - param.l6 * t22 * t376 + t238 * t354 * t97 + t33 * t330 + t216);
  m(1,4) = -t163 * t383 + t165 * t352;
  t385 = t27 * t4;
  t390 = t47 * t7;
  t394 = t163 * t50;
  t400 = t115 - t237;
  t402 = t27 * t51;
  t404 = -t10 * t47 + t53;
  t406 = t50 * t1;
  t409 = t47 * t53;
  t410 = t409 - t10;
  t416 = t27 * t1;
  t417 = t416 + t33;
  t421 = t1 * t31 - t248;
  t424 = (t417 * t47 * t97 + t421 * t99 + t354) * t7;
  t386 = t31 * t404;
  t425 = ((t386 - t402 - t406) * t97 - t27 * (t410 * t99 + t132)) * t4 + t424;
  t427 = t97 * t111;
  t428 = t27 * t47;
  t429 = t428 * t427;
  t434 = t47 * t1;
  t438 = (t427 + t416 + t33) * t57;
  t398 = t27 * t47;
  t439 = (t199 * t31 - t200 * t31 + t33 * t398 + t429 + t434) * t4 + t438;
  t408 = t6 * t400;
  t411 = (t385 * t47 + t57) * t97;
  t414 = t31 * t99;
  m(1,5) = (t165 * t411 + t163 * t390 + t4 * (t165 * t414 - t27 * t394)) * t408 - (-t163 * t439 + t165 * t425) * t172;
  t444 = t31 * t29;
  t445 = t31 * t6;
  t446 = t444 + t445 + t34;
  t447 = t446 * param.l6;
  t450 = -t61;
  t452 = t53 * t31;
  t453 = t452 - t406;
  t456 = t74 + t179;
  t457 = t456 * t143;
  t460 = t27 * t53;
  t467 = -t327;
  t471 = t7 * t414;
  t478 = t446 * param.l5;
  t481 = -t55;
  t485 = param.l6 * t50;
  t486 = t456 * t485;
  t489 = t7 * t27;
  t440 = t453 * t7;
  t501 = ((t47 * (t193 * t27 - t447) + t27 * t450 + param.l6 * t440 + t457) * t97 + t47 * (-t339 * t460 * t99 + t271 - t272) + t27 * param.l6 * t467 - t471 * t16 + t50 * t299 - t346 * t108) * t14 - t22 * ((t47 * (t139 * t27 - t478) + t27 * t481 + param.l5 * t440 - t486) * t97 + t47 * (-t489 * t60 * t99 - t109 - t112) + t27 * param.l5 * t467 + t471 * t358 + t50 * t294 - t341 * t108);
  t510 = t27 * t33;
  t518 = -t31 * t350;
  t520 = (t34 + t445) * t50;
  t521 = t518 + t520;
  t497 = t47 * (-t489 * param.l6 + t297);
  t512 = t47 * (param.l5 * t27 * t7 + param.l6 * t31);
  t543 = (t111 * (param.l6 * t170 + t497) * t97 + t47 * (param.l5 * t456 - t339 * t510 - t89) + t27 * t366 + param.l6 * t521) * t14 + t22 * ((t512 - t144) * t300 + t47 * (param.l5 * t33 * t489 + param.l6 * t456 + t73) - t27 * t362 - t521 * param.l5);
  m(1,6) = t163 * t543 + t165 * t501;
  m(1,7) = 0.0e0;
  t549 = t14 * t481;
  t550 = t22 * t450;
  m(2,1) = (((-t186 + t315 - t37 - t44) * t47 + t27 * (t549 + t550 + t64 + t65) - t191 * t14 + (-t83 + t85 - t86) * t31 - t93 - t64 + t94) * t97 + (t107 - t114 + t118 - t120 - t121) * t47 - t205 - t207 * t14 - t212 * t31 - t160) * t165 - t163 * t222;
  m(2,2) = t163 * t253 + t165 * t264;
  m(2,3) = t163 * t304 + t165 * t318;
  m(2,4) = t163 * t352 + t165 * t383;
  t589 = t50 * t27;
  m(2,5) = -(-t163 * t411 + t165 * t390 - t4 * (t163 * t414 + t165 * t589)) * t408 - (t163 * t425 + t165 * t439) * t172;
  m(2,6) = t163 * t501 - t165 * t543;
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  t606 = -t238;
  m(3,2) = t97 * t235 + t99 * ((t259 * t27 + t31 * t606 + param.l3) * t234 - t239 + t31 * t25 - t250);
  m(3,3) = t99 * (t50 * (t315 - t37 - t267 + t268) - t286 * t47) - t53 * (-t249 * t47 + t308 * t50) * t97;
  m(3,4) = t99 * (t27 * t335 + t31 * (t246 * t47 + t549 + t550 + t64 + t65)) - t97 * (t27 * (t47 * t53 * t606 + t15 + t23 + t24) + (t319 * t53 + t225 + t39 - t40) * t31);
  t645 = t31 * t97;
  t648 = t50 * t99;
  t655 = t4 * t1;
  t665 = -t421;
  t668 = t97 * (t27 * t4 * t410 + t665 * t7);
  t623 = t33 * t47;
  m(3,5) = t6 * t400 * ((-t398 * t99 + t645) * t4 - t7 * t648) + ((t27 * (t434 * t7 - t210) - t50 * t655 + t4 * t386 + t7 * t623) * t99 + t668) * t172;
  t693 = t31 * t7;
  t696 = t53 * t4;
  t633 = -t453 * t7;
  m(3,6) = ((t47 * (t21 * t27 + t447) + t27 * t61 + param.l6 * t633 - t457) * t14 - (t47 * (t12 * t27 + t478) + t27 * t55 + param.l5 * t633 + t486) * t22) * t99 - ((t16 * t693 - t27 * t38 + t31 * t346 - t485 * t696 - t497 * t53) * t14 + (t143 * t696 + t224 * t27 + t31 * t360 + t358 * t693 - t512 * t53) * t22) * t97;
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  t710 = t165 * t111;
  m(4,2) = -t710;
  t711 = t163 * t111;
  t666 = t53 * t97;
  m(4,3) = t165 * t666 - t711 * t99;
  t719 = -t53 * t648 + (t33 * t97 + t111) * t47;
  t721 = t427 + t33;
  m(4,4) = t165 * t719 - t394 * t721;
  t725 = t47 * t100;
  t681 = t404 * t27;
  t731 = t31 * (t33 * t50 * t97 + t132 - t133 + t725) + t97 * t681;
  t736 = t31 * t47 * t721 - t201 * t27;
  m(4,5) = t163 * t736 + t165 * t731;
  t738 = t31 * t47;
  t740 = -t10 * t738 - t402 - t406 + t452;
  t746 = t4 * (t97 * t740 - (t725 - t133 + t132) * t27) + t424;
  t697 = t47 * (t510 + t1);
  t753 = (t201 * t31 + t429 + t697) * t4 + t438;
  m(4,6) = -t163 * t753 + t165 * t746;
  t773 = t47 * (t8 + t10) * t27 - t460 - t456 * t50;
  t709 = t47 * (-t1 * t385 - t34 - t444 - t445) - (t402 + t406 - t452) * t7;
  t780 = (t709 * t97 + t47 * (-t100 * t489 - t119) + t27 * t467 - t421 * t290) * t22 + (t97 * t773 + (t8 * t99 - t132 + t133 - t725) * t31) * t14;
  t798 = (t97 * (t428 * t7 - t170) * t111 + t7 * t697 - t589 * t655 - t518 - t520) * t22 + (t427 * t738 + t47 * t456 + (t50 * t8 - t199 + t200) * t27) * t14;
  m(4,7) = -t163 * t798 + t165 * t780;
  m(5,1) = 0.0e0;
  m(5,2) = -t711;
  m(5,3) = t163 * t666 + t710 * t99;
  m(5,4) = t165 * t50 * t721 + t163 * t719;
  m(5,5) = t163 * t731 - t165 * t736;
  m(5,6) = t163 * t746 + t165 * t753;
  m(5,7) = t163 * t780 + t165 * t798;
  m(6,1) = 0.0e0;
  m(6,2) = 0.0e0;
  m(6,3) = -t100;
  m(6,4) = -t50 * t53 * t97 - t623 * t99;
  m(6,5) = (-t31 * t33 * t50 - t681) * t99 + t410 * t645;
  m(6,6) = t99 * (-t390 * t417 - t4 * t740) - t668;
  m(6,7) = (-t14 * t773 - t22 * t709) * t99 + (t22 * (t27 * t30 + t4 * t665 - t428 * t68) + (t8 - t409 + t10) * t166) * t97;
  tmpreturn = m;
