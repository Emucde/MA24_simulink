function tmpreturn = forward_kinematics_endeffector(q, param)
  m = [0 0 0;];
  t1 = q(5);
  t2 = cos(t1);
  t3 = q(6);
  t4 = cos(t3);
  t7 = sin(t3);
  t5 = param.l5 * t4;
  t8 = param.l6 * t7;
  t10 = t2 * t5 + t2 * t8 - param.l3;
  t11 = q(4);
  t12 = cos(t11);
  t16 = -param.l5 * t7 + param.l6 * t4 - param.l4;
  t17 = sin(t11);
  t15 = t12 * t10;
  t19 = t17 * t16 + param.l3 + t15;
  t20 = q(3);
  t21 = cos(t20);
  t23 = sin(t20);
  t24 = sin(t1);
  t28 = t5 + t8;
  t29 = t28 * t24 * t23;
  t31 = q(2);
  t32 = cos(t31);
  t34 = -t16;
  t37 = t10 * t17 + t12 * t34 + param.l2;
  t38 = sin(t31);
  t40 = t32 * (t19 * t21 - t29) + t38 * t37;
  t41 = q(1);
  t42 = cos(t41);
  t44 = sin(t41);
  t48 = t21 * t24 * t28 + t19 * t23;
  m(1,1) = t40 * t42 - t44 * t48;
  m(1,2) = t40 * t44 + t42 * t48;
  m(1,3) = ((t17 * t34 - param.l3 - t15) * t21 + t29) * t38 + t32 * t37 + param.l1;
  tmpreturn = m';
