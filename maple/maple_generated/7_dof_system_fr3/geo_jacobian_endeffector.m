function tmpreturn = geo_jacobian_endeffector(q, param)
  m = [0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0; 0 0 0 0 0 0 0;];
  t1 = q(5);
  t2 = cos(t1);
  t3 = param.l6 + param.l7;
  t4 = t3 * t2;
  t5 = q(4);
  t6 = cos(t5);
  t8 = sin(t5);
  t10 = param.l5 * t8 - t4 * t6;
  t11 = q(3);
  t12 = cos(t11);
  t14 = sin(t11);
  t15 = sin(t1);
  t16 = t15 * t14;
  t17 = t3 * t16;
  t18 = t10 * t12 + t17;
  t19 = q(2);
  t20 = cos(t19);
  t22 = sin(t19);
  t23 = param.l5 * t6;
  t24 = t8 * t2;
  t26 = t24 * t3 + t23;
  t27 = t26 * t22;
  t29 = q(6);
  t30 = sin(t29);
  t32 = cos(t29);
  t25 = param.l5 * t32;
  t34 = t2 * t25;
  t35 = -t34 + param.l3;
  t36 = t6 * t35;
  t37 = -t3;
  t38 = t32 * t37;
  t39 = t38 + param.l4;
  t43 = t14 * t32;
  t44 = param.l5 * t15;
  t45 = t44 * t43;
  t49 = -t35;
  t52 = (t39 * t6 + t49 * t8 + param.l2) * t22;
  t54 = q(1);
  t55 = sin(t54);
  t57 = cos(t54);
  t59 = t12 * t3 * t15;
  t60 = -t10;
  t66 = t6 * t49;
  t67 = t32 * t3;
  t70 = t66 + t8 * (t67 - param.l4) + param.l3;
  t72 = t30 * (t14 * t60 + t59) + t44 * t32 * t12 + t14 * t70;
  m(1,1) = t55 * (t30 * (t18 * t20 - t27) + t20 * (t12 * (t39 * t8 - param.l3 + t36) + t45) - t52) - t72 * t57;
  t75 = -t30 * t4 + param.l3 - t34;
  t77 = param.l5 * t30;
  t78 = t77 + t38 + param.l4;
  t84 = t3 * t30 + t25;
  t85 = t15 * t84;
  t86 = t14 * t85;
  t87 = t12 * (t6 * t75 + t78 * t8 - param.l3) + t86;
  t92 = t6 * t78 - t75 * t8 + param.l2;
  t94 = t20 * t92 + t22 * t87;
  m(1,2) = t94 * t57;
  t96 = t8 * t3;
  t97 = t32 * t96;
  t98 = param.l4 * t8;
  t99 = t10 * t30 - param.l3 + t36 - t97 + t98;
  t102 = -t12 * t85 + t14 * t99;
  t103 = t20 * t102;
  m(1,3) = t57 * t103 + t55 * (t12 * t99 + t86);
  t110 = t12 * t20;
  t118 = t12 * t2;
  t128 = t6 * (t2 * t22 * t84 - param.l3 * t22 - param.l4 * t110 + t110 * t67 - t110 * t77) + t8 * (-param.l5 * t22 * t30 - t118 * t20 * t84 + t22 * t3 * t32 + param.l3 * t110 - param.l4 * t22);
  t130 = t67 - t77 - param.l4;
  t129 = -t2 * t84 + param.l3;
  t136 = t129 * t8 + t130 * t6;
  t137 = t14 * t136;
  m(1,4) = t128 * t57 - t137 * t55;
  t135 = t8 * t22;
  t143 = t14 * t2;
  t145 = t15 * (t110 * t6 + t135) + t20 * t143;
  t149 = -t14 * t15 * t6 + t118;
  t151 = t145 * t57 + t149 * t55;
  m(1,5) = -t84 * t151;
  t156 = t20 * (t12 * t60 - t17) + t27;
  t159 = t2 * t23 + t96;
  t162 = -param.l5 * t16 + t12 * t159;
  t167 = param.l5 * t2 * t8 + t37 * t6;
  t171 = t32 * t156 - t30 * (t162 * t20 + t167 * t22);
  t172 = t12 * t15;
  t181 = t32 * (t10 * t14 - t59) + t30 * (param.l5 * t172 + t14 * t159);
  m(1,6) = t171 * t57 + t181 * t55;
  m(1,7) = 0.0e0;
  m(2,1) = t57 * (t30 * t156 + t20 * (t12 * t70 - t45) + t52) - t55 * t72;
  m(2,2) = t55 * t94;
  m(2,3) = t57 * (t12 * (t30 * t60 + param.l3 + t66 + t97 - t98) - t86) + t55 * t103;
  m(2,4) = t128 * t55 + t137 * t57;
  t202 = t149 * t57;
  m(2,5) = (-t145 * t55 + t202) * t84;
  m(2,6) = t171 * t55 - t181 * t57;
  m(2,7) = 0.0e0;
  m(3,1) = 0.0e0;
  m(3,2) = t20 * t87 - t22 * t92;
  m(3,3) = -t102 * t22;
  m(3,4) = (-t129 * t6 + t130 * t8) * t20 - t12 * t22 * t136;
  m(3,5) = t84 * (t22 * (t12 * t15 * t6 + t143) - t15 * t20 * t8);
  m(3,6) = t22 * (t162 * t30 + t18 * t32) + (-t167 * t30 + t26 * t32) * t20;
  m(3,7) = 0.0e0;
  m(4,1) = 0.0e0;
  m(4,2) = -t55;
  m(4,3) = t22 * t57;
  t232 = t20 * t57;
  m(4,4) = t12 * t55 + t14 * t232;
  t233 = t22 * t6;
  m(4,5) = t8 * (-t12 * t232 + t14 * t55) + t57 * t233;
  m(4,6) = t151;
  t243 = t12 * t2 * t6 - t16;
  t254 = (t135 * t2 + t20 * t243) * t30 - t32 * (-t12 * t20 * t8 + t233);
  t261 = (t143 * t6 + t172) * t30 + t8 * t43;
  m(4,7) = t254 * t57 - t261 * t55;
  m(5,1) = 0.0e0;
  m(5,2) = t57;
  m(5,3) = t22 * t55;
  t263 = t20 * t55;
  m(5,4) = -t12 * t57 + t14 * t263;
  m(5,5) = t8 * (-t12 * t263 - t14 * t57) + t55 * t233;
  m(5,6) = t145 * t55 - t202;
  m(5,7) = t254 * t55 + t261 * t57;
  m(6,1) = 0.1e1;
  m(6,2) = 0.0e0;
  m(6,3) = t20;
  t275 = t14 * t22;
  m(6,4) = -t275;
  t276 = t12 * t22;
  m(6,5) = t20 * t6 + t276 * t8;
  m(6,6) = t15 * (t20 * t8 - t276 * t6) - t2 * t275;
  m(6,7) = t22 * (-t12 * t32 * t8 - t243 * t30) - (-t24 * t30 + t32 * t6) * t20;
  tmpreturn = m;
